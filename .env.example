# ===================================
# KAFKASDER PANEL - Environment Variables
# ===================================
# Copy this file to .env.local and fill in your actual values
# Never commit .env.local to version control!

# ===================================
# CORE CONFIGURATION
# ===================================

# Node Environment (development, production, test)
NODE_ENV=development

# Application Info
NEXT_PUBLIC_APP_NAME=Kafkasder Panel
NEXT_PUBLIC_APP_VERSION=1.0.0

# ===================================
# BACKEND CONFIGURATION
# ===================================
# Backend provider is Appwrite
NEXT_PUBLIC_BACKEND_PROVIDER=appwrite

# ===================================
# APPWRITE BACKEND
# ===================================
# Get these from https://cloud.appwrite.io or your self-hosted Appwrite instance
# Appwrite Endpoint (default: Appwrite Cloud)
NEXT_PUBLIC_APPWRITE_ENDPOINT=https://cloud.appwrite.io/v1
# Your Appwrite Project ID
NEXT_PUBLIC_APPWRITE_PROJECT_ID=your-project-id
# Your Appwrite Database ID
NEXT_PUBLIC_APPWRITE_DATABASE_ID=your-database-id
# Server-side API Key (keep secret!)
APPWRITE_API_KEY=your-api-key-here

# Appwrite Storage Buckets
NEXT_PUBLIC_APPWRITE_BUCKET_DOCUMENTS=documents
NEXT_PUBLIC_APPWRITE_BUCKET_AVATARS=avatars
NEXT_PUBLIC_APPWRITE_BUCKET_RECEIPTS=receipts

# ===================================
# SECURITY SECRETS (REQUIRED IN PRODUCTION)
# ===================================
# Generate secure random strings (min 32 characters)
# Use: openssl rand -base64 32

# CSRF Protection Secret (32+ characters)
CSRF_SECRET=your-csrf-secret-here-min-32-chars-replace-me

# Session Secret (32+ characters)
SESSION_SECRET=your-session-secret-here-min-32-chars-replace-me

# ===================================
# FIRST ADMIN SETUP (REQUIRED FOR INITIAL SEED)
# ===================================
# Used to create the first admin user in Appwrite
FIRST_ADMIN_EMAIL=baskan@dernek.org
FIRST_ADMIN_PASSWORD=YourSecurePassword123!

# ===================================
# EMAIL SERVICE (OPTIONAL)
# ===================================
# SMTP Configuration for sending emails
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM=noreply@kafkasder.org

# ===================================
# SMS SERVICE (OPTIONAL - Twilio)
# ===================================
# Get credentials from https://www.twilio.com/console
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+905551234567

# ===================================
# WHATSAPP SERVICE (OPTIONAL)
# ===================================
# Auto-initialize WhatsApp client on server start
# Set to 'true' only after successful QR code scan
WHATSAPP_AUTO_INIT=false

# ===================================
# AI CHAT SERVICE (OPTIONAL)
# ===================================
# OpenAI API Key for AI chat functionality
# Get from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Alternative: Azure OpenAI (if using Azure instead)
# AZURE_OPENAI_API_KEY=your_azure_key
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/

# ===================================
# N8N WEBHOOK INTEGRATIONS (OPTIONAL)
# ===================================
# Webhook URLs for n8n automation workflows
N8N_DONATION_WEBHOOK_URL=https://your-n8n-instance.com/webhook/donation-created
N8N_ERROR_WEBHOOK_URL=https://your-n8n-instance.com/webhook/error-logged
N8N_TELEGRAM_WEBHOOK_URL=https://your-n8n-instance.com/webhook/telegram-notify
N8N_WEBHOOK_SECRET=your-webhook-secret-key

# ===================================
# MONITORING & ANALYTICS (OPTIONAL)
# ===================================

# Sentry Error Tracking
# Get from https://sentry.io/settings/projects/
NEXT_PUBLIC_SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx
SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx
SENTRY_ORG=your-org-name
SENTRY_PROJECT=your-project-name

# Google Analytics
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# Enable/Disable Features
NEXT_PUBLIC_ENABLE_REALTIME=true
NEXT_PUBLIC_ENABLE_ANALYTICS=true

# ===================================
# RATE LIMITING (OPTIONAL)
# ===================================
# Default rate limits for API endpoints

# Global defaults (requests per window)
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000
# 900000ms = 15 minutes

# Alternative format
RATE_LIMIT_DEFAULT_MAX=100
RATE_LIMIT_DEFAULT_WINDOW=900000

# API-specific limits
RATE_LIMIT_API_MAX=1000
RATE_LIMIT_API_WINDOW=900000

# Premium user multiplier (e.g., 2.0 = 2x normal limits)
RATE_LIMIT_PREMIUM_MULTIPLIER=2.0

# IP Whitelisting/Blacklisting (comma-separated)
RATE_LIMIT_WHITELIST_IPS=127.0.0.1,::1
RATE_LIMIT_BLACKLIST_IPS=

# ===================================
# FILE UPLOADS (OPTIONAL)
# ===================================
# Maximum file size in bytes (default: 10MB)
MAX_FILE_SIZE=10485760

# Maximum number of files per upload
MAX_FILES_PER_UPLOAD=5

# ===================================
# SESSION MANAGEMENT (OPTIONAL)
# ===================================
# Maximum concurrent sessions per user
NEXT_PUBLIC_MAX_CONCURRENT_SESSIONS=3

# Session inactivity timeout (milliseconds)
# 3600000ms = 1 hour
NEXT_PUBLIC_SESSION_INACTIVITY_TIMEOUT=3600000

# Maximum session age (milliseconds)
# 86400000ms = 24 hours
NEXT_PUBLIC_SESSION_MAX_AGE=86400000

# ===================================
# GOOGLE MAPS (OPTIONAL)
# ===================================
# Required for MapLocationPicker component (donation location tracking)
# Get from https://console.cloud.google.com/apis/credentials
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here

# ===================================
# DEVELOPMENT TOOLS (OPTIONAL)
# ===================================
# Demo mode (disables actual external API calls)
NEXT_PUBLIC_DEMO_MODE=false

# Bundle analysis (set to 'true' to analyze bundle size)
ANALYZE=false

# Deployment health check URL (for validation)
DEPLOY_URL=https://your-deployment-url.vercel.app

# ===================================
# NOTES
# ===================================
#
# REQUIRED FOR PRODUCTION:
# - Backend: All NEXT_PUBLIC_APPWRITE_* and APPWRITE_API_KEY variables
# - CSRF_SECRET (32+ chars)
# - SESSION_SECRET (32+ chars)
# - FIRST_ADMIN_EMAIL & FIRST_ADMIN_PASSWORD (for initial setup)
#
# OPTIONAL SERVICES (enable as needed):
# - Email: Configure all SMTP_* variables
# - SMS: Configure all TWILIO_* variables
# - WhatsApp: Set WHATSAPP_AUTO_INIT after QR scan
# - AI Chat: Set OPENAI_API_KEY
# - Monitoring: Set SENTRY_* and GA variables
# - Webhooks: Set N8N_* variables for automation
# - Maps: Set GOOGLE_MAPS_API_KEY for location features
#
# SECURITY BEST PRACTICES:
# - Generate strong secrets: openssl rand -base64 32
# - Never commit .env.local to version control
# - Use different secrets for dev/staging/production
# - Rotate secrets regularly (especially after team changes)
# - Use separate Appwrite projects for dev/staging/production
# - Enable rate limiting in production
# - Configure SENTRY for error tracking in production
#
# DEVELOPMENT TIPS:
# - Start with minimal Appwrite config (endpoint, project ID, database ID, API key)
# - Add services incrementally as you need them
# - Use DEMO_MODE=true to test without real API calls
# - Check logs with: npm run dev (shows validation errors)
# - Validate environment: see src/lib/env-validation.ts
#
# DEPLOYMENT CHECKLIST:
# ✓ Set NODE_ENV=production
# ✓ Configure all REQUIRED Appwrite variables
# ✓ Set up Appwrite project and database (run: npm run appwrite:setup)
# ✓ Generate strong secrets (32+ chars)
# ✓ Enable Sentry error tracking
# ✓ Set up rate limiting
# ✓ Configure email/SMS for production use
# ✓ Add this file to .gitignore (already done)
# ✓ Never expose secrets in client code (use NEXT_PUBLIC_ only for non-sensitive config)
